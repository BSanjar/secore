@model List<WebApplication1.Models.DBModels.OrganizationClient>
@{
    ViewData["Title"] = "Дети";
}

<div class="children-page">
    <div class="page-header">
        <h1 class="page-title">Дети</h1>
        <p class="page-subtitle">Список всех детей в детском саду</p>
    </div>

    <div class="children-container">
        @if (Model != null && Model.Any())
        {
            <div class="table-responsive">
                <table class="children-table">
                    <thead>
                        <tr>
                            <th>Имя</th>
                            <th>Телефон родителя</th>
                            <th>Email</th>
                            <th>Баланс</th>
                            <th>Статус</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var child in Model)
                        {
                            <tr class="child-row">
                                <td class="child-name">
                                    @child.ClientName
                                </td>
                                <td class="child-phone">
                                    @(child.ClientPhone ?? "-")
                                </td>
                                <td class="child-email">
                                    @(child.ClientEmail ?? "-")
                                </td>
                                <td class="child-balance">
                                    @if (child.ClientBalance.HasValue)
                                    {
                                        @((child.ClientBalance.Value / 100).ToString("N2")) <span>сом</span>
                                    }
                                    else
                                    {
                                        <span class="text-muted">-</span>
                                    }
                                </td>
                                <td class="child-status">
                                    @if (child.ClientStatus == 1)
                                    {
                                        <span class="status-badge status-success">Активен</span>
                                    }
                                    else
                                    {
                                        <span class="status-badge status-error">Неактивен</span>
                                    }
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class="empty-state">
                <div class="empty-state-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" fill="currentColor"/>
                    </svg>
                </div>
                <h3 class="empty-state-title">Детей не найдено</h3>
                <p class="empty-state-description">В детском саду пока нет записанных детей</p>
            </div>
        }
    </div>
</div>

@section Scripts {
    <script src="~/web/js/detsad.js" asp-append-version="true"></script>
}
